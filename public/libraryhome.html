<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Home Page - Library</title>
    <link rel="stylesheet" href="libraryhome.css">
    <link href="https://fonts.googleapis.com/css2?family=Rubik:wght@300;400;500;600&display=swap" rel="stylesheet">
    <!-- Font Awesome for icons (if needed) -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
</head>

<body>

    <!-- Header (Top bar) -->
    <header>
        <div class="logo">
            <div class="logo"><a href="#"><i class="fas fa-book"></i> Talescape</a></div>
        </div>
        <nav>
            <a href="libraryhome.html">Home</a>
            <a href="MyLibrary.html">My Library</a>
            <a href="bookL.html">Recently Added Books</a>
            <a href="reserved_books.html">Reserved Books</a>
            <a href="aboutusL.html">About Us</a>

        </nav>
        <!-- Account Icon -->
        <div class="account" id="account-icon">
            <i class="fas fa-user"></i> <!-- Font Awesome user icon -->
        </div>
    </header>

    <!-- Banner Section -->
    <section class="banner">
        <div class="banner-content">
            <h1>Welcome to  Talscape world</h1>
            <p>Make your own library with us.</p>
            <!-- Button "View My Library" that links to books page -->
            <a href="MyLibrary.html" class="btn">View My Library</a>
        </div>
    </section>

    <!-- Account List (القائمة التي ستظهر عند الضغط على أيقونة الحساب) -->
    <div id="account-list" class="account-list" style="display:none;">
        <ul>
            <li><strong>Email:</strong> <span id="account-email">Not logged in</span></li>
            <li><a href="#" id="logout-link" class="logout-link"><i class="fas fa-sign-out-alt"></i> Logout</a></li>
        </ul>
    </div>

    <!-- Footer Section (Bottom bar) -->
    <footer>
        <p>&copy; 2024 Book Library - All Rights Reserved</p>
    </footer>

    <script>
        // تحقق من حالة تسجيل الدخول عبر localStorage
        const userEmail = localStorage.getItem('userEmail');  // جلب البريد الإلكتروني من localStorage
        let isLoggedIn = false;

        // دالة لعرض أو إخفاء قائمة الحساب
        function toggleAccountList() {
            const accountList = document.getElementById('account-list');
            if (accountList.style.display === 'none') {
                accountList.style.display = 'block';
                if (isLoggedIn) {
                    document.getElementById('account-email').textContent = userEmail;
                } else {
                    document.getElementById('account-email').textContent = 'Not logged in';
                }
            } else {
                accountList.style.display = 'none';
            }
        }

        // دالة لتسجيل الخروج مع رسالة تأكيد
        function logout() {
            if (confirm("Are you sure you want to log out?")) {
                // مسح البريد الإلكتروني من localStorage
                localStorage.removeItem('userEmail');
                window.location.href = "index.html";  // إعادة التوجيه إلى صفحة index.html بعد تسجيل الخروج
            }
        }

        // إضافة حدث للنقر على أيقونة الحساب
        document.getElementById('account-icon').addEventListener('click', toggleAccountList);

        // إضافة حدث للنقر على رابط "تسجيل الخروج"
        document.getElementById('logout-link').addEventListener('click', logout);

        // تحقق مما إذا كان المستخدم قد سجل الدخول أم لا
        if (userEmail) {
            isLoggedIn = true;
        } else {
            isLoggedIn = false;
        }
    </script>

</body>

</html>
